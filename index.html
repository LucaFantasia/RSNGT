<!DOCTYPE html>
    <html>
        <head>
            <style>
                .background{
                    background-color:rgb(185, 185, 185);
                }
                .question{
                    width:68px
                }
                .border{
                    padding: 10px;
                    border: 1px solid black;
                    border-collapse: collapse
                }
                .color1{
                    color: rgb(0, 96, 152)
                }
                .color2{
                    color: rgb(246, 191, 53)
                }
                .color3{
                    color: rgb(96, 189, 172)
                }
                .button{
                    height:45px;
                    width:150px;
                }
                .image{
                    width:31.8px;
                    height:31.8px;
                }
            </style>
        </head>
        <body id="body" class="background">
            <table>
                <tr>
                    <td><h1 style="font-family:monospace" class="color1">Random</h1></td>
                    <td> </td>
                    <td><h1 style="font-family:monospace" class="color2">Student</h1></td>
                    <td> </td>
                    <td><h1 style="font-family:monospace" class="color3">Name</h1></td>
                    <td> </td>
                    <td><h1 style="font-family:monospace" class="color1">Generator</h1></td>
                </tr>
            </table>
            <table>
                <td>
                    <table>
                        <tr>
                        <td><select style="background-color: rgb(96, 189, 172);" class="question" style="height:23px" id = "myList">
                            <option value = "10"selected>10</option>
                            <option value = "9">9</option>
                            </select>
                        </tr>
                        <tr>
                        <td><input style="background-color: rgb(246, 191, 53);" class="question" type="button" value="?"></td> 
                        </tr>
                        <tr>
                            <td><input type="radio" id="radio"><b style="color: rgb(0, 96, 152); font-family:monospace,bold">Absent</b></td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"><b style="color: rgb(0, 96, 152); font-family:monospace,bold">Top</b></td>
                        </tr>
                        <tr>
                            <td><input style="background-color:rgb(96, 189, 172);" class="question" type="button" id=">>" value=">>"></td>
                        </tr>
                        <tr>
                            <td>
                                <input id="correct" type="image" class="image" src="https://raw.githubusercontent.com/LucaFantasia/RSNGT/master/images/tick.jpg">
                                <input  id="wrong" type="image" class="image" src="https://raw.githubusercontent.com/LucaFantasia/RSNGT/master/images/x.png">
                            </td>
                </table>
                </td>
                <td>
                    <table>
                        <tr>
                            <td style="color:rgb(185, 185, 185)">...</td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table>
                        <tr>
                            <td><h1 style="font-family:monospace" id="test">Ready Playerone</h1></td>
                        </tr>
                        <tr>
                            <td><input style="background-color:rgb(246, 191, 53)" class="button" type="button" name="button1" class="search" id="button" onclick="setNames()"></td>
                        </tr>
                    </table>
                </td>
            </table>
            <script type="text/javascript">
                var studentNames = [];
                var studentDisplayed = [];
                var randomNumber;
                var x;
                var menu = document.getElementById("myList");
                menu.addEventListener("change", generateData);
                function generateData(event) {
                    if (menu.value == '10') {
                        setArrays10();
                    } else if (menu.value == '9') {
                        setArrays9();
                    }
                }
                var absentAll = [];
                var skip = false;
                var absentCount = 0;
                var absent10 = [false,false,false,false,false,false,false,false,false,false,
                    false,false,false,false,false,false,false,false,false,false,false];
                var absent9 = [false,false,false,false,false,false,false,false,
                 false,false,false,false,false,
                 false,false,false,false,false,false,false,false,false,false,false];
                document.getElementById("radio").addEventListener("click", absent) 
                function absent(event) {
                    if(menu.value == '10') {
                        absentAll = [false,false,false,false,false,false,false,false,false,false,
                    false,false,false,false,false,false,false,false,false,false,false];
                        absentAll[randomNumber] = true;
                        console.log(studentNames[randomNumber] + " is absent");
                        document.getElementById("radio").checked = false;
                        skip = true;
                        absentCount++;
                    } if(menu.value == '9') {
                        absentAll = [false,false,false,false,false,false,false,false,
                 false,false,false,false,false,
                 false,false,false,false,false,false,false,false,false,false,false];
                        absentAll[randomNumber] = true;
                        console.log(studentNames[randomNumber] + " is absent");
                        document.getElementById("radio").checked = false;
                        skip = true;
                        absentCount++;
                    }
                }
                document.getElementById("correct").addEventListener("click", correct);
                function correct(event) {
                    var  green = "#00ff00";
                    document.body.style.backgroundColor = green;
                    setTimeout(right, 100);
                    function right() {
                        document.body.style.backgroundColor = "rgb(185, 185, 185)";
                    }
                    console.log(studentNames[randomNumber] + " is correct")
                    document.getElementById("correct").checked = false;
                }
                document.getElementById("wrong").addEventListener("click", wrong);
                function wrong(event) {
                    var red = "#ff0000";
                    document.body.style.backgroundColor = red;
                    setTimeout(incorrect, 100);
                    function incorrect() {
                        document.body.style.backgroundColor = "rgb(185, 185, 185)";
                    }
                    console.log(studentNames[randomNumber] + " is wrong")
                    document.getElementById("wrong").checked = false;
                }
                var count = 0 ;
                document.getElementById("button").value = count;
                generateData(event);
                function setArrays10() {
                    studentNames = ["Adriana","Allan","Luca","Myro","JJ","JM","Dinis",
                    "Tilly","Laura","Carolina","Luna","Afonso","Cecilia",
                    "Sofia F","Sofia G","Sebastian","Holly","Sandro","Tian","Miguel","Maria"];
                 studentDisplayed = [false,false,false,false,false,false,false,false,false,false,
                    false,false,false,false,false,false,false,false,false,false,false];
                 count = studentNames.length;
                 document.getElementById("button").value = count;
                }
                function setArrays9() {
                    studentNames = ["Luca","Elliot","Adam","Sam","Pedro","Guilherme","Bernado","Sarah",
                    "Mariana","Daniela","Anais","Beatriz","Emily","Tarushi","Lauren",
                    "Sofia C","Luisa","Kiana","Lena","Sofia M","Amelia","Sofia A","Catarina","Maria"];
                 studentDisplayed = [false,false,false,false,false,false,false,false,
                 false,false,false,false,false,
                 false,false,false,false,false,false,false,false,false,false,false];
                 count = studentNames.length;
                 document.getElementById("button").value = count;
                }
                var body = document.querySelector("body");
                body.addEventListener("keydown",function(e){
                    var isInput = ~["TEXTAREA", "INPUT"].indexOf(e.target.tagName);
                    if(e.key === " " && !isInput){
                    setNames();
                }
                });
                function setNames() {
                    do {
                         randomNumber = Math.floor(Math.random() * studentNames.length);
                    } while (studentDisplayed[randomNumber] == true || absentAll[randomNumber] == true);
                            studentDisplayed[randomNumber] = true;
                            document.getElementById("test").innerHTML = studentNames[randomNumber];
                            count--;
                            document.getElementById("button").value = count;
                            if (count == 0) {
                                generateData(event);
                                if(skip == true) {
                                    for(a = 0; a < absentCount; a++) {
                                        count--;
                                    }
                                }
                                return;
                             }
                }
            </script>
        </body>
    </html>
